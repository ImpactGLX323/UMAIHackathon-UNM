<!doctype html>
<html>
    <head>
        <title>Questionnaire</title>
        <style>
            input[type="text"], input[type="number"], select {
                width: 150px;
                padding: 2px;
            }

            .hidden{
                display:none;

            }

            .error{
                color:red;
            }
        </style>
    </head>
    <body>
        <h1><center>Questionnaire</center></h1>
        <center>
        <form action="results.html" method="GET">
            <label for="gender"><b>Gender:</b></label><br>
            <select id="gender" name="gender" required>
                <option value="" disabled selected>Select Here</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Prefer Not To Say">Prefer Not To Say</option>
            </select><br><br>

            <label for="age"><b>Age:</b></label>
            <input type="number" id="age" name="age" min="1" max="120" required><br><br> 


            <label for="bp_sys"><b>Blood Pressure (Systolic / Diastolic):</b></label><br><br>
            <input type="number" id="bp_sys" name="bp_sys" placeholder="Systolic" min="80" max="200" required> /
            <input type="number" id="bp_dia" name="bp_dia" placeholder="Diastolic" min="40" max="120" required><br><br>

            <label for="heartdisease"><b>Do you currently have heart disease?</b></label><br>
            <select id="heartdisease" name="heartdisease" required>
                <option value="" disabled selected>Select here</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select><br><br>

            <label for="smokehis"><b>Do you have a smoking history?</b></label><br>
            <select id="smokehis" name="smokehis" required>
                <option value="" disabled selected>Select Here</option>
                <option value="No Info">No Info</option>
                <option value="Never">Never</option>
                <option value="Former">Former</option>
                <option value="Current">Current</option>
                <option value="Not Current">Not Current</option>
                <option value="Ever">Ever</option>
            </select><br><br>

            <label for="height"><b>Height(cm):</b></label>
            <input type="number" id="height" name="height" min="1" required><br><br>
            
            <label for="weight"><b>Weight(kg):</b></label>
            <input type="number" id="weight" name="weight" min="1" step="0.1" required><br><br> 

            <label for="BSL"><b>Do you know your last blood sugar?</b></label><br>
            <select id="BSL" name="BSL" onchange="toggleBSL(this.value === 'Yes')" required>
                <option value="" disabled selected>Select Here</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select><br><br>

            <div id="bslfield" class="hidden">
                <label for="bloodsugar"><b>Last Blood Sugar Level:</b></label>
                <input type="text" id="bloodsugar" name="bloodsugar" placeholder="Enter blood sugar level" oninput="this.value = this.value.replace(/[^0-9.]/g, '');"><br><br>
            </div>
            
            <input type="submit" value="Submit">
        </form>
        <p id="errorMessage" class="error"></p>
        </center>

        <script>

            function toggleBSL(show){
                const bslfield=document.getElementById('bslfield');
                const bloodsugarinput=document.getElementById('bloodsugar');
                if(show){
                    bslfield.classList.remove('hidden');
                    bloodsugarinput.setAttribute('required','required');
                }
                else {
                    bslfield.classList.add('hidden');
                    bloodsugarinput.value='';
                    bloodsugarinput.removeAttribute('required');
                    
                }
            }
        </script>
    </body>
</html>
