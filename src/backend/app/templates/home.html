<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <title>Diabetes Prediction & Advisory Tool</title>
</head>
<body>
    <div class="container">
        <header class="header">
            <img src="{{ url_for('static', filename='logo.png') }}" alt="GlucAware&Advisory" width="350px" height="80px" id="logo">
            <div class="dashboard">
                <a href="{{ url_for('home') }}" class="button {% if request.path == '/' %}active{% endif %}">Home</a>
                <a href="{{ url_for('questionnaire') }}" class="button {% if request.path == '/questionnaire' %}active{% endif %}">Test</a>
                <a href="{{ url_for('resources1') }}" class="button {% if request.path == '/resources1' %}active{% endif %}">Resources</a>  <!--TBD-->
                <a href="{{ url_for('login') }}" class="button {% if request.path == '/login' %}active{% endif %}">Contact Us</a> <!--TBD-->
                {% if not session.get('user_id') %}
                    <a href="{{ url_for('login') }}" class="log_btn {% if request.path == '/login' %}active{% endif %}">Sign In</a>
                {% else %}
                    <a href="{{ url_for('history') }}" class="button {% if request.path == '/history' %}active{% endif %}">History</a>
                    <a href="{{ url_for('profile') }}" class="button {% if request.path == '/profile' %}active{% endif %}">Profile</a>
                    <a href="{{ url_for('logout') }}" class="log_btn">Sign Out</a>
                {% endif %}
            </div>
        </header>
        <section class="section_1">
            <div class="carousel">
                <button class="slide_button button_left">❮</button>
                <div class="slide_track_container">
                    <ul class="slide_track">
                        <li class="slide current-slide">
                            <div class="slide_1">
                                <video autoplay muted loop class="video_background">
                                    <source src="{{ url_for('static', filename='video1.mp4') }}" type="video/mp4">
                                    Your browser does not support the video tag.
                                </video>
                                <div class="slide_content">
                                    <h1>"Explore & Better Your Health Today!"</h1>
                                    <a href="{{ url_for('questionnaire') }}" class="slide_1_btn">Take The Test</a>
                                </div>
                            </div>
                        </li>
                        <li class="slide">
                            <div class="slide_2">
                                <video autoplay muted loop class="video_background">
                                    <source src="{{ url_for('static', filename='video2.mp4') }}" type="video/mp4">
                                    Your browser does not support the video tag.
                                </video>
                                <div class="slide_content">
                                    <h1>"Discover Diabetes Types & Prevent the Risks!"</h1>
                                    <a href="#section02" class="slide_1_btn">Explore</a>
                                </div>
                            </div>
                        </li>
                        <li class="slide">
                            <div class="slide_3">
                                <video autoplay muted loop class="video_background">
                                    <source src="{{ url_for('static', filename='video3.mp4') }}" type="video/mp4">
                                    Your browser does not support the video tag.
                                </video>
                                <div class="slide_content">
                                    <h1>"Make Your Own Charts!"</h1>
                                    <a href="{{ url_for('chart') }}" class="slide_1_btn">Create Charts</a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <button class="slide_button button_right">❯</button>
                <div class="slide_indicator">
                    <button class="indicator active"></button>
                    <button class="indicator"></button>
                    <button class="indicator"></button>
                </div>
            </div>
        </section>

        <svg class="s1_svg" viewBox="0 0 1440 200" xmlns="http://www.w3.org/2000/svg" width="100%" height="auto">
            <path fill="#FFFFFF" d="M0,120 L360,90 L720,130 L1080,80 L1440,110 V200 H0 Z"></path>
        </svg>

        <section class="section_2">
            <div class="s2text_item">
                <div class="s2_title">
                    <h1 style="color: rgb(8, 76, 125);">Types Of Diabetes</h1>
                    <p>
                        Diabetes is a chronic condition that affects how the body processes blood sugar (glucose).<br>
                        There are four main types: Prediabetes, Type 1 Diabetes, Type 2 Diabetes, and Stress-Induced Diabetes.
                    </p>
                    <a href="https://www.cdc.gov/diabetes/about" class="s2_bt" target="_blank">Learn More</a>
                </div>
                <img src="{{ url_for('static', filename='s2.png') }}" alt="section2_image" width="450px" height="300px" id="s2_image">
            </div>
        </section> 

        <svg class="s2_svg" viewBox="0 0 1440 200" xmlns="http://www.w3.org/2000/svg" width="100%" height="auto">
            <path fill="#FFFFFF" d="M0,30 L360,60 L720,10 L1080,70 L1440,40 V0 H0 Z"></path>
        </svg>         

        <section class="section_3">
            <div class="s3text_item">
                <img src="{{ url_for('static', filename='s3.png') }}" alt="section3_image" width="450px" height="300px" id="s3_image">
                <div class="s3_title">
                    <h1 style="color: rgb(8, 76, 125);">How To Prevent Diabetes</h1>
                    <p>Preventing diabetes, especially Type 2 diabetes and prediabetes, involves making healthy lifestyle choices that help regulate blood sugar levels and improve insulin sensitivity.</p>
                    <a href="https://www.pantai.com.my/health-pulse/how-to-prevent-diabetes" class="s3_bt" target="_blank">Learn More</a>
                </div>
            </div>
        </section>

        <svg class="s3_svg" viewBox="0 0 1440 200" xmlns="http://www.w3.org/2000/svg" width="100%" height="auto">
            <path fill="#f4f4f4" d="M0,90 L360,70 L720,100 L1080,60 L1440,90 V0 H0 Z"></path>
        </svg>         

        <section class="section_4">
            <div class="s4text_item">
                <div class="s4_title">
                    <h1 style="color: rgb(255, 255, 255);">Music</h1>
                </div>
                <div class="music_content">
                    <p>
                        Feeling stressed or overwhelmed? Let peaceful meditation music guide you to a place of calm and balance. 
                        Soft melodies and gentle rhythms help ease anxiety, 
                        improve focus, and promote deep relaxation—perfect for yoga,
                        mindfulness, or unwinding after a long day.
                    </p>
                    <a href="https://www.pond5.com/free/music/calm-meditation?gclsrc=aw.ds&&utm_source=google&utm_medium=cpc&utm_campaign=DEPT_SEM_Google_NonBrand_Mix_Core_INT_All_Music_CPA_BAU_EN&gad_source=1&gbraid=0AAAAAD9u9HXNLKHI9RAQKYRj31UX5NAe2&gclid=Cj0KCQjw4v6-BhDuARIsALprm32EF37UyBy-ovDLEj6E9ogsXHh-pD-Clcyw5ph0FwXVdQbg08VzUHMaAj3PEALw_wcB" class="s3_bt" target="_blank">Listen</a>
                </div>
            </div>
        </section>

        <svg class="s4_svg" viewBox="0 0 1440 200" xmlns="http://www.w3.org/2000/svg" width="100%" height="auto">
            <path fill="#FFFFFF" d="M0,40 L350,70 L700,20 L1100,80 L1440,50 V0 H0 Z"></path>
        </svg>

        <section class="section_general">
            <div class="general_title">
                <h1 style="color: rgb(8, 76, 125);" >Looking For Some General Advice?</h1>
            </div>
            <div class="expandable">
                <div class="expandable_bar">
                    <span class="expandable_title">"What Are Common Diabetest Symptoms?"</span>
                    <ion-icon class="ion-icon" name="add-outline"></ion-icon>
                </div>
                <div class="content_container">
                    <div class="expandable_content"> 
                        <ul>1. Frequent urination – Often, the body tries to get rid of excess glucose through urine.</ul>
                        <ul>2. Increased thirst – The need to drink more water due to fluid loss from frequent urination.</ul>
                        <ul>3. Extreme hunger – Even after eating, you might feel very hungry because the body isn't able to effectively use glucose for energy.</ul>
                        <ul>4. Fatigue – Feeling unusually tired, as the body is not using glucose effectively for energy.</ul>
                        <ul>5. Blurred vision – High blood sugar can lead to fluid shifts in the eyes, causing temporary vision changes.</ul>
                        <ul>6. Slow-healing sores or frequent infections – High blood sugar can impair the body's ability to heal and fight infections.</ul>
                        <ul>7. Unexplained weight loss – Despite eating more, weight loss can occur as the body starts breaking down muscle and fat for energy.</ul>
                        <ul>8. Numbness or tingling in hands or feet – High blood sugar can damage nerves, leading to sensations like tingling or numbness.</ul>
                        <ul>9. Dry mouth and skin – Dehydration can result in dry skin and a dry mouth.</ul>
                    </div>
                </div>
            </div>
            <div class="expandable">
                <div class="expandable_bar">
                    <span class="expandable_title">"How do I Maintaining A Healthy Weight?"</span>
                    <ion-icon class="ion-icon" name="add-outline"></ion-icon>
                </div>
                <div class="content_container">
                    <div class="expandable_content"> 
                        <ul>1. Eat a balanced diet – Include vegetables, fruits, lean proteins, whole grains, and healthy fats. Limit processed foods and sugars.</ul>
                        <ul>2. Exercise regularly – Aim for 150 minutes of moderate exercise per week and incorporate strength training.</ul>
                        <ul>3. Stay active daily – Move throughout the day (e.g., walking, taking the stairs).</ul>
                        <ul>4. Get enough sleep – Aim for 7-9 hours per night to support healthy metabolism.</ul>
                        <ul>5. Manage stress – Use techniques like meditation or deep breathing.</ul>
                        <ul>6. Be consistent – Stick to healthy habits long-term and track your progress.</ul>
                    </div>
                </div>
            </div>
            <div class="expandable">
                <div class="expandable_bar">
                    <span class="expandable_title">"How To Quit Smoking?"</span>
                    <ion-icon class="ion-icon" name="add-outline"></ion-icon>
                </div>
                <div class="content_container">
                    <div class="expandable_content"> 
                        <ul>1. Find Your Reason – Identify a strong, personal reason to quit (health, family, finances, etc.).</ul>
                        <ul>2. Make a Plan – Set a quit date and decide whether to quit cold turkey or gradually reduce smoking.</ul>
                        <ul>3. Know Your Triggers & Avoid Them – Identify common triggers (stress, coffee, alcohol) and replace smoking with healthier habits.</ul>
                        <ul>4. Use Nicotine Replacement Therapy – Consider nicotine patches, gum, lozenges, or prescription medications.</ul>
                        <ul>5. Seek Support – Inform friends, family, or join a support group for encouragement.</ul>
                        <ul>6. Stay Busy – Keep your hands and mouth occupied (chewing gum, stress ball, drinking water).</ul>
                        <ul>7. Handle Cravings – Cravings last 5-10 minutes; distract yourself with an activity or deep breathing.</ul>
                        <ul>8. Prepare for Withdrawal – Manage symptoms like irritability and anxiety with exercise or meditation.</ul>
                        <ul>9. Reward Yourself – Save money from cigarettes and treat yourself for reaching milestones.</ul>
                        <ul>10. Don't Give Up – Relapses happen; learn from them and keep trying.</ul>
                    </div>
                </div>
            </div>
            <div class="expandable">
                <div class="expandable_bar">
                    <span class="expandable_title">"How do I Maintain A Healthy Lifestyle?"</span>
                    <ion-icon class="ion-icon" name="add-outline"></ion-icon>
                </div>
                <div class="content_container">
                    <div class="expandable_content"> 
                        <ul>1. Eat a Balanced Diet – Include a variety of vegetables, fruits, lean proteins, whole grains, and healthy fats.</ul>
                        <ul>2. Limit Processed Foods – Reduce intake of sugary drinks, excessive salt, and unhealthy fats.</ul>
                        <ul>3. Stay Hydrated – Drink plenty of water throughout the day to keep your body functioning properly.</ul>
                        <ul>4. Exercise Regularly – Aim for at least 150 minutes of moderate exercise per week, including strength training.</ul>
                        <ul>5. Stay Active – Move throughout the day by walking, stretching, or taking short breaks from sitting.</ul>
                        <ul>6. Get Enough Sleep – Aim for 7-9 hours of quality sleep and maintain a consistent sleep schedule.</ul>
                        <ul>7. Manage Stress – Practice meditation, deep breathing, or engage in activities that help you relax.</ul>
                        <ul>8. Stay Mentally Healthy – Build strong relationships, practice gratitude, and seek support when needed.</ul>
                        <ul>9. Avoid Harmful Habits – Quit smoking, limit alcohol intake, and reduce caffeine consumption.</ul>
                        <ul>10. Maintain Good Hygiene – Wash hands regularly, take care of oral hygiene, and visit doctors for regular checkups.</ul>
                    </div>
                </div>
            </div>
            <div class="expandable">
                <div class="expandable_bar">
                    <span class="expandable_title">"How to deal with stress?"</span>
                    <ion-icon class="ion-icon" name="add-outline"></ion-icon>
                </div>
                <div class="content_container">
                    <div class="expandable_content"> 
                        <ul>1. Practice Deep Breathing – Use techniques like the 4-7-8 method to calm your mind and body.</ul>  
                        <ul>2. Take Breaks – Step away from stressful situations, even for a few minutes, to reset your mind.</ul>  
                        <ul>3. Exercise Regularly – Engage in physical activities like walking, jogging, or stretching to relieve tension.</ul>  
                        <ul>4. Get Enough Sleep – Aim for 7-9 hours of rest to help your body recover from daily stress.</ul>  
                        <ul>5. Eat a Healthy Diet – Consume nutritious foods that support energy levels and mental clarity.</ul>  
                        <ul>6. Stay Hydrated – Drink plenty of water to keep your body functioning properly and reduce fatigue.</ul>  
                        <ul>7. Practice Mindfulness – Engage in meditation or focus on the present to reduce overwhelming thoughts.</ul>  
                        <ul>8. Stay Connected – Talk to friends, family, or a support group to share and manage stress.</ul>  
                        <ul>9. Manage Time Wisely – Prioritize tasks, avoid procrastination, and set realistic goals to prevent burnout.</ul>  
                        <ul>10. Engage in Hobbies – Spend time doing activities you enjoy, like reading, gaming, or painting, to relax.</ul>
                    </div>
                </div>
            </div>
        </section>

        <svg class="general_svg" viewBox="0 0 1440 200" xmlns="http://www.w3.org/2000/svg" width="100%" height="auto">
            <path fill="#f4f4f4" d="M0,85 L380,65 L760,95 L1140,55 L1440,85 V0 H0 Z"></path>
        </svg>

        <section class="section_end">
            <div class="section_end_content">
                <div class="help_item">
                    <span>Help</span><br>
                    <a href="{{ url_for('profile') }}">Contact Us</a> <!--TBD-->
                </div>
                <div class="resource_item">
                    <span>Resources</span><br>
                    <a href="{{ url_for('questionnaire') }}">Take the Test</a><br>
                    <a href="{{ url_for('chart') }}">Create Charts</a><br>
                    <a href="{{ url_for('resources1') }}">Resources</a>  <!--TBD-->
                </div>
            </div>
            <span class="year">@2025</span>
        </section>
    </div>
    <script>
        document.body.addEventListener("click", e => {
            const isClicked = e.target.closest(".expandable_bar");    // target expandable bar
            const expandable = e.target.closest(".expandable");         //target expandable section

            //returns if clicked area is outside of expandible bar
            if (!isClicked) 
            {
                return;
            }

            const icon_change = expandable.classList.toggle("expandable_open"); //toggles expandble content on/off 
            const icon = expandable.querySelector("ion-icon");  //select icon element 
            icon.setAttribute("name", icon_change ? "remove-outline" : "add-outline");  //changes icon - or plus depending on icon_change toggle
        });

        const carousel = document.querySelector('.carousel');   //select carousel element
        const track = carousel.querySelector('.slide_track');   // select slide_track element 
        const slides = Array.from(track.children);     //initialise number of slides in accordance to children of track
        const nextButton = carousel.querySelector('.button_right'); //select slide buttons right
        const prevButton = carousel.querySelector('.button_left'); // select slide button right
        const dotsNav = carousel.querySelector('.slide_indicator'); // select slide indicator
        const dots = Array.from(dotsNav.children);  //initialse number of indicator in accordance to children of slide_indicator

        const updateSlidePositions = () => {
            const slideWidth = slides[0].getBoundingClientRect().width; //width of initail slide
            
            //set each slides left property according to index 
            slides.forEach((slide, index) => {
                slide.style.left = slideWidth * index + 'px';
            });

            const currentSlide = track.querySelector('.current-slide') || slides[0];    // select slide marked as current or initial slide
            track.style.transition = 'none';    //disable transition so repositioning is instant
            track.style.transform = 'translateX(-' + currentSlide.style.left + ')';     //move slide left by current slides's offset

            //re-enable transition ensure future movement is animated
            setTimeout(() => {
                track.style.transition = 'transform 0.5s ease-in-out';  
            }, 0);
        };

        updateSlidePositions();
        slides[0].classList.add('current-slide');   //marks initial slide as current slide

        window.addEventListener('resize', updateSlidePositions);    //updates when window is resized ensure proper alignment

        const updateDots = (currentDot, targetDot) => {
            currentDot.classList.remove('active');  //remove active from current indicator
            targetDot.classList.add('active');  //add active to target indicator.
        };

        const moveToSlide = (track, currentSlide, targetSlide) => {
            track.style.transition = 'transform 0.5s ease-in-out';  //transition of slide animation
            track.style.transform = 'translateX(-' + targetSlide.style.left + ')';  //moves slide by targetslide offset
            currentSlide.classList.remove('current-slide'); // remove current-slide marker from current
            targetSlide.classList.add('current-slide'); // add to current-slide marker to target
        };

        prevButton.addEventListener('click', e => {
            const currentSlide = track.querySelector('.current-slide') || slides[0];    //select the current slide or initial slide
            const prevSlide = currentSlide.previousElementSibling || slides[slides.length - 1]; // find previous slide 
            const currentDot = dotsNav.querySelector('.active');    //select current slide indicator
            const prevDot = currentDot.previousElementSibling || dots[dots.length - 1]; // find previous slide indicator

            moveToSlide(track, currentSlide, prevSlide);    //moves the slide
            updateDots(currentDot, prevDot);    //update indicator
        }); 

        //same mechanism with prevButton but instead finds the next slide and indicator
        nextButton.addEventListener('click', e => {
            const currentSlide = track.querySelector('.current-slide') || slides[0];
            const nextSlide = currentSlide.nextElementSibling || slides[0];
            const currentDot = dotsNav.querySelector('.active');
            const nextDot = currentDot.nextElementSibling || dots[0];

            moveToSlide(track, currentSlide, nextSlide);
            updateDots(currentDot, nextDot);
        });

        dotsNav.addEventListener('click', e => {
            const targetDot = e.target.closest('button');   //target indicator buttons

            //returns if clicked outside of buttons
            if (!targetDot) 
            {
                return;
            }

            const currentSlide = track.querySelector('.current-slide') || slides[0];    //select the current slide or initial slide
            const currentDot = dotsNav.querySelector('.active');    // select current slid eindicator
            const targetIndex = dots.findIndex(dot => dot === targetDot); //get the clicked button's index
            const targetSlide = slides[targetIndex];    //assign corresponding slide

            moveToSlide(track, currentSlide, targetSlide); //moves the slide to corresponding target index
            updateDots(currentDot, targetDot);  //updates dot indicator
        });


    </script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
</html>
